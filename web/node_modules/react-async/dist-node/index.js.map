{"version":3,"file":"index.js","sources":["../dist-src/globalScope.js","../dist-src/propTypes.js","../dist-src/helpers.js","../dist-src/status.js","../dist-src/reducer.js","../dist-src/Async.js","../dist-src/useAsync.js"],"sourcesContent":["/* istanbul ignore file */\n\n/**\n * Universal global scope object. In the browser this is `self`, in Node.js and React Native it's `global`.\n * This file is excluded from coverage reporting because these globals are environment-specific so we can't test them all.\n */\nconst globalScope = (() => {\n  if (typeof self === \"object\" && self.self === self) return self;\n  if (typeof global === \"object\" && global.global === global) return global;\n  if (typeof global === \"object\" && global.GLOBAL === global) return global;\n  return {}; // fallback that relies on imported modules to be singletons\n})();\n/**\n * Globally available object used to connect the DevTools to all React Async instances.\n */\n\n\nglobalScope.__REACT_ASYNC__ = globalScope.__REACT_ASYNC__ || {};\nexport default globalScope;","let PropTypes;\n\ntry {\n  PropTypes = require(\"prop-types\");\n} catch (e) {}\n\nconst childrenFn = PropTypes && PropTypes.oneOfType([PropTypes.node, PropTypes.func]);\nconst stateObject = PropTypes && PropTypes.shape({\n  initialValue: PropTypes.any,\n  data: PropTypes.any,\n  error: PropTypes.instanceOf(Error),\n  value: PropTypes.any,\n  startedAt: PropTypes.instanceOf(Date),\n  finishedAt: PropTypes.instanceOf(Date),\n  status: PropTypes.oneOf([\"initial\", \"pending\", \"fulfilled\", \"rejected\"]),\n  isInitial: PropTypes.bool,\n  isPending: PropTypes.bool,\n  isLoading: PropTypes.bool,\n  isFulfilled: PropTypes.bool,\n  isResolved: PropTypes.bool,\n  isRejected: PropTypes.bool,\n  isSettled: PropTypes.bool,\n  counter: PropTypes.number,\n  promise: PropTypes.instanceOf(Promise),\n  run: PropTypes.func,\n  reload: PropTypes.func,\n  cancel: PropTypes.func,\n  setData: PropTypes.func,\n  setError: PropTypes.func\n});\nexport default PropTypes && {\n  Async: {\n    children: childrenFn,\n    promise: PropTypes.instanceOf(Promise),\n    promiseFn: PropTypes.func,\n    deferFn: PropTypes.func,\n    watch: PropTypes.any,\n    watchFn: PropTypes.func,\n    initialValue: PropTypes.any,\n    onResolve: PropTypes.func,\n    onReject: PropTypes.func,\n    reducer: PropTypes.func,\n    dispatcher: PropTypes.func,\n    debugLabel: PropTypes.string,\n    suspense: PropTypes.bool\n  },\n  Initial: {\n    children: childrenFn.isRequired,\n    state: stateObject.isRequired,\n    persist: PropTypes.bool\n  },\n  Pending: {\n    children: childrenFn.isRequired,\n    state: stateObject.isRequired,\n    initial: PropTypes.bool\n  },\n  Fulfilled: {\n    children: childrenFn.isRequired,\n    state: stateObject.isRequired,\n    persist: PropTypes.bool\n  },\n  Rejected: {\n    children: childrenFn.isRequired,\n    state: stateObject.isRequired,\n    persist: PropTypes.bool\n  },\n  Settled: {\n    children: childrenFn.isRequired,\n    state: stateObject.isRequired,\n    persist: PropTypes.bool\n  }\n};","import propTypes from \"./propTypes.js\";\n\nconst nullify = children => children === undefined ? null : children;\n\nconst renderFn = (children, ...args) => nullify(typeof children === \"function\" ? children(...args) : children);\n/**\n * Renders only when no promise has started or completed yet.\n *\n * @prop {Function|Node} children Function (passing state) or React node\n * @prop {Object} state React Async state object\n * @prop {boolean} persist Show until we have data, even while pending (loading) or when an error occurred\n */\n\n\nexport const IfInitial = ({\n  children,\n  persist,\n  state = {}\n}) => state.isInitial || persist && !state.data ? renderFn(children, state) : null;\n/**\n * Renders only while pending (promise is loading).\n *\n * @prop {Function|Node} children Function (passing state) or React node\n * @prop {Object} state React Async state object\n * @prop {boolean} initial Show only on initial load (data is undefined)\n */\n\nexport const IfPending = ({\n  children,\n  initial,\n  state = {}\n}) => state.isPending && (!initial || !state.value) ? renderFn(children, state) : null;\n/**\n * Renders only when promise is resolved.\n *\n * @prop {Function|Node} children Function (passing data and state) or React node\n * @prop {Object} state React Async state object\n * @prop {boolean} persist Show old data while pending (promise is loading)\n */\n\nexport const IfFulfilled = ({\n  children,\n  persist,\n  state = {}\n}) => state.isFulfilled || persist && state.data ? renderFn(children, state.data, state) : null;\n/**\n * Renders only when promise is rejected.\n *\n * @prop {Function|Node} children Function (passing error and state) or React node\n * @prop {Object} state React Async state object\n * @prop {boolean} persist Show old error while pending (promise is loading)\n */\n\nexport const IfRejected = ({\n  children,\n  persist,\n  state = {}\n}) => state.isRejected || persist && state.error ? renderFn(children, state.error, state) : null;\n/**\n * Renders only when promise is fulfilled or rejected.\n *\n * @prop {Function|Node} children Function (passing state) or React node\n * @prop {Object} state React Async state object\n * @prop {boolean} persist Show old data or error while pending (promise is loading)\n */\n\nexport const IfSettled = ({\n  children,\n  persist,\n  state = {}\n}) => state.isSettled || persist && state.value ? renderFn(children, state) : null;\n\nif (propTypes) {\n  IfInitial.propTypes = propTypes.Initial;\n  IfPending.propTypes = propTypes.Pending;\n  IfFulfilled.propTypes = propTypes.Fulfilled;\n  IfRejected.propTypes = propTypes.Rejected;\n  IfSettled.propTypes = propTypes.Settled;\n}","export const statusTypes = {\n  initial: \"initial\",\n  pending: \"pending\",\n  fulfilled: \"fulfilled\",\n  rejected: \"rejected\"\n};\nexport const getInitialStatus = (value, promise) => {\n  if (value instanceof Error) return statusTypes.rejected;\n  if (value !== undefined) return statusTypes.fulfilled;\n  if (promise) return statusTypes.pending;\n  return statusTypes.initial;\n};\nexport const getIdleStatus = value => {\n  if (value instanceof Error) return statusTypes.rejected;\n  if (value !== undefined) return statusTypes.fulfilled;\n  return statusTypes.initial;\n};\nexport const getStatusProps = status => ({\n  status,\n  isInitial: status === statusTypes.initial,\n  isPending: status === statusTypes.pending,\n  isLoading: status === statusTypes.pending,\n  // alias\n  isFulfilled: status === statusTypes.fulfilled,\n  isResolved: status === statusTypes.fulfilled,\n  // alias\n  isRejected: status === statusTypes.rejected,\n  isSettled: status === statusTypes.fulfilled || status === statusTypes.rejected\n});","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { getInitialStatus, getIdleStatus, getStatusProps, statusTypes } from \"./status.js\"; // This exists to make sure we don't hold any references to user-provided functions\n\nclass NeverSettle extends Promise {\n  constructor() {\n    super(() => {}, () => {});\n    /* istanbul ignore next */\n\n    if (Object.setPrototypeOf) {\n      // Not available in IE 10, but can be polyfilled\n      Object.setPrototypeOf(this, NeverSettle.prototype);\n    }\n  }\n\n  finally() {\n    return this;\n  }\n\n  catch() {\n    return this;\n  }\n\n  then() {\n    return this;\n  }\n\n}\n\nexport const neverSettle = new NeverSettle();\nexport const actionTypes = {\n  start: \"start\",\n  cancel: \"cancel\",\n  fulfill: \"fulfill\",\n  reject: \"reject\"\n};\nexport const init = ({\n  initialValue,\n  promise,\n  promiseFn\n}) => _objectSpread({\n  initialValue,\n  data: initialValue instanceof Error ? undefined : initialValue,\n  error: initialValue instanceof Error ? initialValue : undefined,\n  value: initialValue,\n  startedAt: promise || promiseFn ? new Date() : undefined,\n  finishedAt: initialValue ? new Date() : undefined\n}, getStatusProps(getInitialStatus(initialValue, promise || promiseFn)), {\n  counter: 0,\n  promise: neverSettle\n});\nexport const reducer = (state, {\n  type,\n  payload,\n  meta\n}) => {\n  switch (type) {\n    case actionTypes.start:\n      return _objectSpread({}, state, {\n        startedAt: new Date(),\n        finishedAt: undefined\n      }, getStatusProps(statusTypes.pending), {\n        counter: meta.counter,\n        promise: meta.promise\n      });\n\n    case actionTypes.cancel:\n      return _objectSpread({}, state, {\n        startedAt: undefined,\n        finishedAt: undefined\n      }, getStatusProps(getIdleStatus(state.error || state.data)), {\n        counter: meta.counter,\n        promise: meta.promise\n      });\n\n    case actionTypes.fulfill:\n      return _objectSpread({}, state, {\n        data: payload,\n        value: payload,\n        error: undefined,\n        finishedAt: new Date()\n      }, getStatusProps(statusTypes.fulfilled), {\n        promise: meta.promise\n      });\n\n    case actionTypes.reject:\n      return _objectSpread({}, state, {\n        error: payload,\n        value: payload,\n        finishedAt: new Date()\n      }, getStatusProps(statusTypes.rejected), {\n        promise: meta.promise\n      });\n\n    default:\n      return state;\n  }\n};\nexport const dispatchMiddleware = dispatch => (action, ...args) => {\n  dispatch(action, ...args);\n\n  if (action.type === actionTypes.start && typeof action.payload === \"function\") {\n    action.payload();\n  }\n};","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React from \"react\";\nimport globalScope from \"./globalScope.js\";\nimport { IfInitial, IfPending, IfFulfilled, IfRejected, IfSettled } from \"./helpers.js\";\nimport propTypes from \"./propTypes.js\";\nimport { neverSettle, actionTypes, init, dispatchMiddleware, reducer as asyncReducer } from \"./reducer.js\";\n/**\n * createInstance allows you to create instances of Async that are bound to a specific promise.\n * A unique instance also uses its own React context for better nesting capability.\n */\n\nexport const createInstance = (defaultOptions = {}, displayName = \"Async\") => {\n  const {\n    Consumer,\n    Provider\n  } = React.createContext();\n\n  class Async extends React.Component {\n    constructor(props) {\n      super(props);\n      this.start = this.start.bind(this);\n      this.load = this.load.bind(this);\n      this.run = this.run.bind(this);\n      this.cancel = this.cancel.bind(this);\n      this.onResolve = this.onResolve.bind(this);\n      this.onReject = this.onReject.bind(this);\n      this.setData = this.setData.bind(this);\n      this.setError = this.setError.bind(this);\n      const promise = props.promise;\n      const promiseFn = props.promiseFn || defaultOptions.promiseFn;\n      const initialValue = props.initialValue || defaultOptions.initialValue;\n      this.mounted = false;\n      this.counter = 0;\n      this.args = [];\n      this.promise = neverSettle;\n      this.abortController = {\n        abort: () => {}\n      };\n      this.state = _objectSpread({}, init({\n        initialValue,\n        promise,\n        promiseFn\n      }), {\n        cancel: this.cancel,\n        run: this.run,\n        reload: () => {\n          this.load();\n          this.run(...this.args);\n        },\n        setData: this.setData,\n        setError: this.setError\n      });\n      this.debugLabel = props.debugLabel || defaultOptions.debugLabel;\n      const {\n        devToolsDispatcher\n      } = globalScope.__REACT_ASYNC__;\n\n      const _reducer = props.reducer || defaultOptions.reducer;\n\n      const _dispatcher = props.dispatcher || defaultOptions.dispatcher || devToolsDispatcher;\n\n      const reducer = _reducer ? (state, action) => _reducer(state, action, asyncReducer) : asyncReducer;\n      const dispatch = dispatchMiddleware((action, callback) => {\n        this.setState(state => reducer(state, action), callback);\n      });\n      this.dispatch = _dispatcher ? action => _dispatcher(action, dispatch, props) : dispatch;\n    }\n\n    componentDidMount() {\n      this.mounted = true;\n\n      if (this.props.promise || !this.state.initialValue) {\n        this.load();\n      }\n    }\n\n    componentDidUpdate(prevProps) {\n      const {\n        watch,\n        watchFn = defaultOptions.watchFn,\n        promise,\n        promiseFn\n      } = this.props;\n\n      if (watch !== prevProps.watch) {\n        if (this.counter) this.cancel();\n        return this.load();\n      }\n\n      if (watchFn && watchFn(_objectSpread({}, defaultOptions, {}, this.props), _objectSpread({}, defaultOptions, {}, prevProps))) {\n        if (this.counter) this.cancel();\n        return this.load();\n      }\n\n      if (promise !== prevProps.promise) {\n        if (this.counter) this.cancel();\n        if (promise) return this.load();\n      }\n\n      if (promiseFn !== prevProps.promiseFn) {\n        if (this.counter) this.cancel();\n        if (promiseFn) return this.load();\n      }\n    }\n\n    componentWillUnmount() {\n      this.cancel();\n      this.mounted = false;\n    }\n\n    getMeta(meta) {\n      return _objectSpread({\n        counter: this.counter,\n        promise: this.promise,\n        debugLabel: this.debugLabel\n      }, meta);\n    }\n\n    start(promiseFn) {\n      if (\"AbortController\" in globalScope) {\n        this.abortController.abort();\n        this.abortController = new globalScope.AbortController();\n      }\n\n      this.counter++;\n      return this.promise = new Promise((resolve, reject) => {\n        if (!this.mounted) return;\n\n        const executor = () => promiseFn().then(resolve, reject);\n\n        this.dispatch({\n          type: actionTypes.start,\n          payload: executor,\n          meta: this.getMeta()\n        });\n      });\n    }\n\n    load() {\n      const promise = this.props.promise;\n      const promiseFn = this.props.promiseFn || defaultOptions.promiseFn;\n\n      if (promise) {\n        this.start(() => promise).then(this.onResolve(this.counter)).catch(this.onReject(this.counter));\n      } else if (promiseFn) {\n        const props = _objectSpread({}, defaultOptions, {}, this.props);\n\n        this.start(() => promiseFn(props, this.abortController)).then(this.onResolve(this.counter)).catch(this.onReject(this.counter));\n      }\n    }\n\n    run(...args) {\n      const deferFn = this.props.deferFn || defaultOptions.deferFn;\n\n      if (deferFn) {\n        this.args = args;\n\n        const props = _objectSpread({}, defaultOptions, {}, this.props);\n\n        return this.start(() => deferFn(args, props, this.abortController)).then(this.onResolve(this.counter), this.onReject(this.counter));\n      }\n    }\n\n    cancel() {\n      const onCancel = this.props.onCancel || defaultOptions.onCancel;\n      onCancel && onCancel();\n      this.counter++;\n      this.abortController.abort();\n      this.mounted && this.dispatch({\n        type: actionTypes.cancel,\n        meta: this.getMeta()\n      });\n    }\n\n    onResolve(counter) {\n      return data => {\n        if (this.counter === counter) {\n          const onResolve = this.props.onResolve || defaultOptions.onResolve;\n          this.setData(data, () => onResolve && onResolve(data));\n        }\n\n        return data;\n      };\n    }\n\n    onReject(counter) {\n      return error => {\n        if (this.counter === counter) {\n          const onReject = this.props.onReject || defaultOptions.onReject;\n          this.setError(error, () => onReject && onReject(error));\n        }\n\n        return error;\n      };\n    }\n\n    setData(data, callback) {\n      this.mounted && this.dispatch({\n        type: actionTypes.fulfill,\n        payload: data,\n        meta: this.getMeta()\n      }, callback);\n      return data;\n    }\n\n    setError(error, callback) {\n      this.mounted && this.dispatch({\n        type: actionTypes.reject,\n        payload: error,\n        error: true,\n        meta: this.getMeta()\n      }, callback);\n      return error;\n    }\n\n    render() {\n      const {\n        children,\n        suspense\n      } = this.props;\n\n      if (suspense && this.state.isPending && this.promise !== neverSettle) {\n        // Rely on Suspense to handle the loading state\n        throw this.promise;\n      }\n\n      if (typeof children === \"function\") {\n        return React.createElement(Provider, {\n          value: this.state\n        }, children(this.state));\n      }\n\n      if (children !== undefined && children !== null) {\n        return React.createElement(Provider, {\n          value: this.state\n        }, children);\n      }\n\n      return null;\n    }\n\n  }\n\n  if (propTypes) Async.propTypes = propTypes.Async;\n\n  const AsyncInitial = props => React.createElement(Consumer, null, st => React.createElement(IfInitial, _extends({}, props, {\n    state: st\n  })));\n\n  const AsyncPending = props => React.createElement(Consumer, null, st => React.createElement(IfPending, _extends({}, props, {\n    state: st\n  })));\n\n  const AsyncFulfilled = props => React.createElement(Consumer, null, st => React.createElement(IfFulfilled, _extends({}, props, {\n    state: st\n  })));\n\n  const AsyncRejected = props => React.createElement(Consumer, null, st => React.createElement(IfRejected, _extends({}, props, {\n    state: st\n  })));\n\n  const AsyncSettled = props => React.createElement(Consumer, null, st => React.createElement(IfSettled, _extends({}, props, {\n    state: st\n  })));\n\n  AsyncInitial.displayName = `${displayName}.Initial`;\n  AsyncPending.displayName = `${displayName}.Pending`;\n  AsyncFulfilled.displayName = `${displayName}.Fulfilled`;\n  AsyncRejected.displayName = `${displayName}.Rejected`;\n  AsyncSettled.displayName = `${displayName}.Settled`;\n  Async.displayName = displayName;\n  Async.Initial = AsyncInitial;\n  Async.Pending = AsyncPending;\n  Async.Loading = AsyncPending; // alias\n\n  Async.Fulfilled = AsyncFulfilled;\n  Async.Resolved = AsyncFulfilled; // alias\n\n  Async.Rejected = AsyncRejected;\n  Async.Settled = AsyncSettled;\n  return Async;\n};\nexport default createInstance();","function _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { useCallback, useDebugValue, useEffect, useMemo, useRef, useReducer } from \"react\";\nimport globalScope from \"./globalScope.js\";\nimport { neverSettle, actionTypes, init, dispatchMiddleware, reducer as asyncReducer } from \"./reducer.js\";\n\nconst noop = () => {};\n\nconst useAsync = (arg1, arg2) => {\n  const options = typeof arg1 === \"function\" ? _objectSpread({}, arg2, {\n    promiseFn: arg1\n  }) : arg1;\n  const counter = useRef(0);\n  const isMounted = useRef(true);\n  const lastArgs = useRef(undefined);\n  const lastOptions = useRef(undefined);\n  const lastPromise = useRef(neverSettle);\n  const abortController = useRef({\n    abort: noop\n  });\n  const {\n    devToolsDispatcher\n  } = globalScope.__REACT_ASYNC__;\n  const {\n    reducer,\n    dispatcher = devToolsDispatcher\n  } = options;\n  const [state, _dispatch] = useReducer(reducer ? (state, action) => reducer(state, action, asyncReducer) : asyncReducer, options, init);\n  const dispatch = useCallback(dispatcher ? action => dispatcher(action, dispatchMiddleware(_dispatch), lastOptions.current) : dispatchMiddleware(_dispatch), [dispatcher]);\n  const {\n    debugLabel\n  } = options;\n  const getMeta = useCallback(meta => _objectSpread({\n    counter: counter.current,\n    promise: lastPromise.current,\n    debugLabel\n  }, meta), [debugLabel]);\n  const setData = useCallback((data, callback = noop) => {\n    if (isMounted.current) {\n      dispatch({\n        type: actionTypes.fulfill,\n        payload: data,\n        meta: getMeta()\n      });\n      callback();\n    }\n\n    return data;\n  }, [dispatch, getMeta]);\n  const setError = useCallback((error, callback = noop) => {\n    if (isMounted.current) {\n      dispatch({\n        type: actionTypes.reject,\n        payload: error,\n        error: true,\n        meta: getMeta()\n      });\n      callback();\n    }\n\n    return error;\n  }, [dispatch, getMeta]);\n  const {\n    onResolve,\n    onReject\n  } = options;\n  const handleResolve = useCallback(count => data => count === counter.current && setData(data, () => onResolve && onResolve(data)), [setData, onResolve]);\n  const handleReject = useCallback(count => err => count === counter.current && setError(err, () => onReject && onReject(err)), [setError, onReject]);\n  const start = useCallback(promiseFn => {\n    if (\"AbortController\" in globalScope) {\n      abortController.current.abort();\n      abortController.current = new globalScope.AbortController();\n    }\n\n    counter.current++;\n    return lastPromise.current = new Promise((resolve, reject) => {\n      if (!isMounted.current) return;\n\n      const executor = () => promiseFn().then(resolve, reject);\n\n      dispatch({\n        type: actionTypes.start,\n        payload: executor,\n        meta: getMeta()\n      });\n    });\n  }, [dispatch, getMeta]);\n  const {\n    promise,\n    promiseFn,\n    initialValue\n  } = options;\n  const load = useCallback(() => {\n    const isPreInitialized = initialValue && counter.current === 0;\n\n    if (promise) {\n      start(() => promise).then(handleResolve(counter.current)).catch(handleReject(counter.current));\n    } else if (promiseFn && !isPreInitialized) {\n      start(() => promiseFn(lastOptions.current, abortController.current)).then(handleResolve(counter.current)).catch(handleReject(counter.current));\n    }\n  }, [start, promise, promiseFn, initialValue, handleResolve, handleReject]);\n  const {\n    deferFn\n  } = options;\n  const run = useCallback((...args) => {\n    if (deferFn) {\n      lastArgs.current = args;\n      start(() => deferFn(args, lastOptions.current, abortController.current)).then(handleResolve(counter.current)).catch(handleReject(counter.current));\n    }\n  }, [start, deferFn, handleResolve, handleReject]);\n  const reload = useCallback(() => {\n    lastArgs.current ? run(...lastArgs.current) : load();\n  }, [run, load]);\n  const {\n    onCancel\n  } = options;\n  const cancel = useCallback(() => {\n    onCancel && onCancel();\n    counter.current++;\n    abortController.current.abort();\n    isMounted.current && dispatch({\n      type: actionTypes.cancel,\n      meta: getMeta()\n    });\n  }, [onCancel, dispatch, getMeta]);\n  /* These effects should only be triggered on changes to specific props */\n\n  /* eslint-disable react-hooks/exhaustive-deps */\n\n  const {\n    watch,\n    watchFn\n  } = options;\n  useEffect(() => {\n    if (watchFn && lastOptions.current && watchFn(options, lastOptions.current)) load();\n  });\n  useEffect(() => {\n    lastOptions.current = options;\n  }, [options]);\n  useEffect(() => {\n    if (counter.current) cancel();\n    if (promise || promiseFn) load();\n  }, [promise, promiseFn, watch]);\n  useEffect(() => () => isMounted.current = false, []);\n  useEffect(() => () => cancel(), []);\n  /* eslint-enable react-hooks/exhaustive-deps */\n\n  useDebugValue(state, ({\n    status\n  }) => `[${counter.current}] ${status}`);\n\n  if (options.suspense && state.isPending && lastPromise.current !== neverSettle) {\n    // Rely on Suspense to handle the loading state\n    throw lastPromise.current;\n  }\n\n  return useMemo(() => _objectSpread({}, state, {\n    run,\n    reload,\n    cancel,\n    setData,\n    setError\n  }), [state, run, reload, cancel, setData, setError]);\n};\n\nexport class FetchError extends Error {\n  constructor(response) {\n    super(`${response.status} ${response.statusText}`);\n    /* istanbul ignore next */\n\n    if (Object.setPrototypeOf) {\n      // Not available in IE 10, but can be polyfilled\n      Object.setPrototypeOf(this, FetchError.prototype);\n    }\n\n    this.response = response;\n  }\n\n}\n\nconst parseResponse = (accept, json) => res => {\n  if (!res.ok) return Promise.reject(new FetchError(res));\n  if (typeof json === \"boolean\") return json ? res.json() : res;\n  return accept === \"application/json\" ? res.json() : res;\n};\n\nconst useAsyncFetch = (resource, init, _ref = {}) => {\n  let {\n    defer,\n    json\n  } = _ref,\n      options = _objectWithoutProperties(_ref, [\"defer\", \"json\"]);\n\n  const method = resource.method || init && init.method;\n  const headers = resource.headers || init && init.headers || {};\n  const accept = headers[\"Accept\"] || headers[\"accept\"] || headers.get && headers.get(\"accept\");\n\n  const doFetch = (resource, init) => globalScope.fetch(resource, init).then(parseResponse(accept, json));\n\n  const isDefer = typeof defer === \"boolean\" ? defer : [\"POST\", \"PUT\", \"PATCH\", \"DELETE\"].indexOf(method) !== -1;\n  const fn = isDefer ? \"deferFn\" : \"promiseFn\";\n  const identity = JSON.stringify({\n    resource,\n    init,\n    isDefer\n  });\n  const state = useAsync(_objectSpread({}, options, {\n    [fn]: useCallback((arg1, arg2, arg3) => {\n      const [override, signal] = isDefer ? [arg1[0], arg3.signal] : [undefined, arg2.signal];\n      const isEvent = typeof override === \"object\" && \"preventDefault\" in override;\n\n      if (!override || isEvent) {\n        return doFetch(resource, _objectSpread({\n          signal\n        }, init));\n      }\n\n      if (typeof override === \"function\") {\n        const _override = override(_objectSpread({\n          resource,\n          signal\n        }, init)),\n              {\n          resource: runResource\n        } = _override,\n              runInit = _objectWithoutProperties(_override, [\"resource\"]);\n\n        return doFetch(runResource || resource, _objectSpread({\n          signal\n        }, runInit));\n      }\n\n      const {\n        resource: runResource\n      } = override,\n            runInit = _objectWithoutProperties(override, [\"resource\"]);\n\n      return doFetch(runResource || resource, _objectSpread({\n        signal\n      }, init, {}, runInit));\n    }, [identity] // eslint-disable-line react-hooks/exhaustive-deps\n    )\n  }));\n  useDebugValue(state, ({\n    counter,\n    status\n  }) => `[${counter}] ${status}`);\n  return state;\n};\n/* istanbul ignore next */\n\n\nconst unsupported = () => {\n  throw new Error(\"useAsync requires React v16.8 or up. Upgrade your React version or use the <Async> component instead.\");\n};\n\nexport default useEffect ? useAsync : unsupported;\nexport const useFetch = useEffect ? useAsyncFetch : unsupported;"],"names":["globalScope","self","global","GLOBAL","__REACT_ASYNC__","PropTypes","require","e","childrenFn","oneOfType","node","func","stateObject","shape","initialValue","any","data","error","instanceOf","Error","value","startedAt","Date","finishedAt","status","oneOf","isInitial","bool","isPending","isLoading","isFulfilled","isResolved","isRejected","isSettled","counter","number","promise","Promise","run","reload","cancel","setData","setError","Async","children","promiseFn","deferFn","watch","watchFn","onResolve","onReject","reducer","dispatcher","debugLabel","string","suspense","Initial","isRequired","state","persist","Pending","initial","Fulfilled","Rejected","Settled","nullify","undefined","renderFn","args","IfInitial","IfPending","IfFulfilled","IfRejected","IfSettled","propTypes","statusTypes","pending","fulfilled","rejected","getInitialStatus","getIdleStatus","getStatusProps","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","obj","configurable","writable","NeverSettle","constructor","setPrototypeOf","prototype","finally","catch","then","neverSettle","actionTypes","start","fulfill","reject","init","type","payload","meta","dispatchMiddleware","dispatch","action","_extends","assign","hasOwnProperty","call","createInstance","defaultOptions","displayName","Consumer","Provider","React","createContext","Component","props","bind","load","mounted","abortController","abort","devToolsDispatcher","_reducer","_dispatcher","asyncReducer","callback","setState","componentDidMount","componentDidUpdate","prevProps","componentWillUnmount","getMeta","AbortController","resolve","executor","onCancel","render","createElement","AsyncInitial","st","AsyncPending","AsyncFulfilled","AsyncRejected","AsyncSettled","Loading","Resolved","_objectWithoutProperties","excluded","_objectWithoutPropertiesLoose","sourceSymbolKeys","indexOf","propertyIsEnumerable","sourceKeys","noop","useAsync","arg1","arg2","options","useRef","isMounted","lastArgs","lastOptions","lastPromise","_dispatch","useReducer","useCallback","current","handleResolve","count","handleReject","err","isPreInitialized","useEffect","useDebugValue","useMemo","FetchError","response","statusText","parseResponse","accept","json","res","ok","useAsyncFetch","resource","_ref","defer","method","headers","get","doFetch","fetch","isDefer","fn","identity","JSON","stringify","arg3","override","signal","isEvent","_override","runResource","runInit","unsupported","useFetch"],"mappings":"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"}